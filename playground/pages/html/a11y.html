<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A11y</title>
  <link rel="stylesheet" href="../styles/base.css" />
  <link rel="stylesheet" href="../styles/components.css" />
</head>

<body>
  <a class="skip" data-testid="skip-link" href="#main">Skip to content</a>

  <header>
    <a href="./../../index.html" data-testid="back" aria-label="Back to index">← back</a>
    <h1 data-testid="page-title">Accessibility (a11y)</h1>
    <div data-testid="page-id" data-page-id="a11y"></div>

    <nav aria-label="Primary" data-testid="nav">
      <a data-testid="nav-home" href="./../../index.html">Home</a>
      <a data-testid="nav-forms" href="./forms-inputs.html">Forms</a>
      <a data-testid="nav-tables" href="./tables.html">Tables</a>
    </nav>
  </header>

  <main id="main" data-testid="main">
    <section class="card" aria-labelledby="aria-toggle-title">
      <h2 id="aria-toggle-title">ARIA toggle</h2>
      <button data-testid="aria-toggle" id="tog" type="button" aria-expanded="false" aria-controls="panel">Toggle panel</button>
      <div id="panel" data-testid="aria-panel" hidden>Panel content</div>
    </section>

    <section class="card" aria-labelledby="live-region-title">
      <h2 id="live-region-title">Live region</h2>
      <div data-testid="live" id="live" role="status" aria-live="polite" aria-atomic="true">Waiting…</div>
      <button data-testid="live-btn" id="liveBtn" type="button">Update live text</button>
    </section>

    <section class="card" aria-labelledby="tab-order-title">
      <h2 id="tab-order-title">Tab order</h2>
      <button data-testid="tab-1" id="fakeLink" type="button" aria-label="Focusable link (button)">Focusable link</button>
      <button data-testid="tab-2" type="button">Button</button>
      <label>
        <span class="sr-only">Input</span>
        <input data-testid="tab-3" placeholder="Input" />
      </label>
      <div data-testid="tab-4" tabindex="0" style="display:inline-block;padding:6px 10px;border:1px dashed #999;border-radius:10px">tabindex=0 div</div>
    </section>
  </main>

  <script>
    (()=>{const tog=document.getElementById("tog"), panel=document.getElementById("panel"), live=document.getElementById("live"), liveBtn=document.getElementById("liveBtn");tog.addEventListener("click", ()=>{const next=tog.getAttribute("aria-expanded")!=="true";tog.setAttribute("aria-expanded", String(next));panel.hidden=!next;});liveBtn.addEventListener("click", ()=>{const t=new Date();live.textContent=`Updated at ${t.toLocaleTimeString()}`;});})();
  </script>
</body>
</html>
