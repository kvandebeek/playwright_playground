<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Images</title>
  <link rel="stylesheet" href="../styles/base.css" />
  <link rel="stylesheet" href="../styles/components.css" />
</head>

<body>
  <a class="skip" data-testid="skip-link" href="#main">Skip to content</a>

  <header>
    <a href="./../../index.html" data-testid="back" aria-label="Back to index">‚Üê back</a>
    <h1 data-testid="page-title">Images</h1>
    <div data-testid="page-id" data-page-id="images"></div>
  </header>

  <main id="main" data-testid="main">
    <div class="grid">
      <div class="card">
        <h2>Basic img</h2>
        <img
          data-testid="img-basic"
          alt="Basic placeholder"
          width="600"
          height="300"
          loading="lazy"
          decoding="async"
          data-loaded="false"
          src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='600'%20height='300'%3E%3Crect%20width='100%25'%20height='100%25'%20fill='%23e7e7e7'/%3E%3Ctext%20x='50%25'%20y='50%25'%20dominant-baseline='middle'%20text-anchor='middle'%20font-family='Arial'%20font-size='22'%20fill='%23333'%3EIMG%20BASIC%3C/text%3E%3C/svg%3E"
        />
      </div>

      <div class="card">
        <h2>Picture (type switch)</h2>
        <picture data-testid="picture">
          <source
            type="image/svg+xml"
            srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='600'%20height='300'%3E%3Crect%20width='100%25'%20height='100%25'%20fill='%23d7f0ff'/%3E%3Ctext%20x='50%25'%20y='50%25'%20dominant-baseline='middle'%20text-anchor='middle'%20font-family='Arial'%20font-size='22'%20fill='%23055'%3EPICTURE%20SOURCE%3C/text%3E%3C/svg%3E"
          />
          <img
            data-testid="img-picture-fallback"
            alt="Picture fallback"
            width="600"
            height="300"
            decoding="async"
            data-loaded="false"
            src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='600'%20height='300'%3E%3Crect%20width='100%25'%20height='100%25'%20fill='%23ffe8d7'/%3E%3Ctext%20x='50%25'%20y='50%25'%20dominant-baseline='middle'%20text-anchor='middle'%20font-family='Arial'%20font-size='22'%20fill='%23550'%3EPICTURE%20FALLBACK%3C/text%3E%3C/svg%3E"
          />
        </picture>
      </div>

      <div class="card">
        <h2>srcset + sizes (still SVG)</h2>
        <img
          data-testid="img-srcset"
          alt="srcset placeholder"
          width="600"
          height="300"
          sizes="(max-width: 600px) 90vw, 600px"
          decoding="async"
          data-loaded="false"
          srcset="
            data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='320'%20height='160'%3E%3Crect%20width='100%25'%20height='100%25'%20fill='%23eee'/%3E%3Ctext%20x='50%25'%20y='50%25'%20dominant-baseline='middle'%20text-anchor='middle'%20font-family='Arial'%20font-size='18'%20fill='%23333'%3E320w%3C/text%3E%3C/svg%3E 320w,
            data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='600'%20height='300'%3E%3Crect%20width='100%25'%20height='100%25'%20fill='%23ddd'/%3E%3Ctext%20x='50%25'%20y='50%25'%20dominant-baseline='middle'%20text-anchor='middle'%20font-family='Arial'%20font-size='22'%20fill='%23333'%3E600w%3C/text%3E%3C/svg%3E 600w
          "
          src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='600'%20height='300'%3E%3Crect%20width='100%25'%20height='100%25'%20fill='%23ddd'/%3E%3Ctext%20x='50%25'%20y='50%25'%20dominant-baseline='middle'%20text-anchor='middle'%20font-family='Arial'%20font-size='22'%20fill='%23333'%3E600w%3C/text%3E%3C/svg%3E"
        />
      </div>
    </div>
  </main>

  <script>
    (()=>{document.querySelectorAll("img[data-testid]").forEach(img=>{if(img.complete){img.dataset.loaded="true";}else{img.addEventListener("load",()=>img.dataset.loaded="true",{once:true});}});})();
  </script>
</body>
</html>
